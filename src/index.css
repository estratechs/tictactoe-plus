/* Modern, theme-aware styling with high-contrast marks */
:root {
  --bg: #fafafa;
  --fg: #0f172a;
  --muted: #475569;
  --accent: #2563eb;
  --tile-bg: #ffffff;
  --tile-border: #e2e8f0;
  --tile-shadow: 0 6px 18px rgba(2, 6, 23, 0.06);
  --win: #16a34a;
}
html[data-theme="dark"] {
  --bg: #0b1220;
  --fg: #e5e7eb;
  --muted: #94a3b8;
  --accent: #3b82f6;
  --tile-bg: #111827;
  --tile-border: #1f2937;
  --tile-shadow: 0 10px 28px rgba(0,0,0,.45);
  --win: #22c55e;
}

*{box-sizing:border-box}
html,body,#root{height:100%}
body{
  margin:0;
  background: var(--bg);
  color: var(--fg);
  font: 16px/1.45 system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;
  overflow-x:hidden;
}

.container{max-width:1000px;margin:0 auto;padding:24px}
.header{display:flex;align-items:center;justify-content:space-between;gap:12px;margin-bottom:16px}
h1{font-size:clamp(20px,2vw,28px);margin:0}
.toolbar{display:flex;gap:8px;flex-wrap:wrap;align-items:center}
.select,.button{
  background: var(--tile-bg);
  color: var(--fg);
  border:1px solid var(--tile-border);
  padding:8px 12px;border-radius:12px;font-weight:600;cursor:pointer;
  box-shadow: var(--tile-shadow);
}
.select{appearance:none}.button[disabled]{opacity:.5;cursor:not-allowed}

.board-wrap{position:relative;perspective:800px;margin:18px 0 12px}
.board{display:grid;gap:5px;transform-style:preserve-3d;margin:0 auto}

.tile{
  width:clamp(72px,12vw,110px);height:clamp(72px,12vw,110px);
  display:grid;place-items:center;
  background: var(--tile-bg);
  border:2px solid var(--tile-border);
  border-radius:16px;
  box-shadow: var(--tile-shadow);
  transition:transform .15s ease, border-color .2s ease, box-shadow .2s ease;
  font-size:clamp(28px,7vw,60px);font-weight:900;user-select:none;will-change:transform;
}
.tile:hover{transform:translateY(-2px); border-color: color-mix(in oklab, var(--accent) 45%, var(--tile-border));}

.mark{
  line-height:1; font-weight:900;
  text-shadow: 0 2px 10px rgba(0,0,0,.15);
}
/* Distinct, vibrant marks */
.mark.x{ 
  color: #4f46e5; /* indigo-600 */
  filter: drop-shadow(0 4px 14px rgba(79,70,229,.35));
}
.mark.o{ 
  color: #ec4899; /* pink-500 */
  filter: drop-shadow(0 4px 14px rgba(236,72,153,.35));
}

/* Winning highlight could pulse the tile border */
@keyframes pulseGlow{0%{box-shadow:0 0 0 0 rgba(34,197,94,.0)}70%{box-shadow:0 0 0 10px rgba(34,197,94,.15)}100%{box-shadow:0 0 0 0 rgba(34,197,94,.0)}}

.status{min-height:28px;margin:8px 0 16px;font-weight:700}
.footer{display:flex;align-items:center;justify-content:space-between;gap:12px;flex-wrap:wrap;margin-top:8px}
.small{color:var(--muted);font-size:12px}

@media (prefers-reduced-motion:reduce){*{animation:none!important;transition:none!important}}